function set_user_lang(){chrome.storage.local.get(["extension_web_lang"],function(e){e.extension_web_lang&&i18next.changeLanguage(e.extension_web_lang,(t,n)=>{t&&console.log("err",t),console.log("lang changed :",e.extension_web_lang,n("shop_now"))})})}function render_template(e,t){return new Promise(function(n,o){fetch(chrome.runtime.getURL("src/partials/"+t+".html"),{method:"GET",headers:{mimeType:"text/plain; charset=x-user-defined",dataType:"text"}}).then(e=>e.text()).then(function(t){let o=Mustache.render(t,{...e,translate:translate,get_image_url:get_image_url});n(o)})})}function translate(){return function(e,t){return t(i18next.t(e))}}function get_image_url(){return function(e,t){return t(config[e])}}function get_constructed_cashback_string(e,t,n){let o="",r="";return n?(r="percent"===t?n+"%":config.currency+n,o="upto"===e?"Up to "+r:r+" Cashback"):""}function get_constructed_cashback(e,t){let n="";return t?n="percent"===e?t+"%":config.currency+t:""}i18next.init({lng:"en",debug:!0,resources:{en:{translation:{top_stores:"Top Stores",top_offers:"Top Offers",store_details:"Store Details",my_account:"My Account",refer_n_earn:"Refer & Earn",hello_from_google_popup:"Hello from Google popup"}},hi:{translation:{top_stores:"Top Stores",top_offers:"Top Offers",store_details:"Store Details",my_account:"My Account",refer_n_earn:"Refer & Earn"}}}}).then(function(e){console.log(i18next.t("shop_now"))});